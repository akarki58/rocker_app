<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_form_report" model="ir.ui.view">
        <field name="name">rocker.report.form</field>
        <field name="model">rocker.report</field>
        <field name="arch" type="xml">
            <form string="Rocker Report">
                <header>
                    <button type="object" string="Execute" name="export_report" confirm="Execute report immediately?"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <widget name="web_ribbon" title="Archived" bg_color="bg-danger"
                                attrs="{'invisible': [('active', '=', True)]}"/>
                        <field name="active" invisible="1"/>
                    </div>
                     <div>
                            <h1 style="font-size: 1.9rem;">
                                <div class="row">
                                    <div class="col col-md-auto">
                                        <label for="name" string="Name"/>
                                        <div>
                                            <field name="name" placeholder="new report" class="oe_inline"/>
                                        </div>
                                    </div>
                                    <div class="col col-md-8">
                                        <label for="report_application" string="Application"/>
                                        <div>
                                            <field name="report_application"
                                                   placeholder="Application"
                                                   class="oe_inline"
                                                   style="width:80% !important;"/>
                                        </div>
                                    </div>
                                </div>
                            </h1>
                        </div>

                    <div>
                    <group>
                        <group>
                        <field name="report_type"  string="Type"/>
                        <field name="author_id" string="Author" />
                        <field name="date_published" string="Published" />
                        </group>
                        <group>
                        <field name="lang" string="Language" />
                        <field name="description" string="Description"/>
                        </group>
                    </group>
                    </div>
                    <div>
                    <notebook colspan="6">
                        <page string="Report">
                            <group col="6" attrs="{'invisible':[('report_type', '!=', 'collection')]}">
                                <label for="report_ids" string="" class="oe_inline"/>
                                <field name="report_ids" attrs="{'invisible':[('report_type', '!=', 'collection')]}"
                                       colspan="6" options="{'no_show':True,'no_create':True,'no_open':True}"
                                        >
                                    <tree string="Reports" editable="bottom" colspan="6">
                                        <field name="sequence" widget="handle"/>
                                        <field name="name" readonly="1"/>
                                        <field name="report_application" readonly="1" invisible="1"/>
                                        <field name="description" readonly="1"/>
                                        <field name="database" readonly="1"/>
                                        <field name="sheet_name" readonly="1"
                                               attrs="{'invisible':[('report_application','!=','excel')]}"/>
                                        <field name="date_published" readonly="1"/>
                                        <field name="author_id" readonly="1"/>
                                    </tree>
                               </field>
                            </group>
                            <group col="6">
                                <field name="database" colspan="6"
                                       attrs="{'invisible':[('report_type', '!=', 'single')],'required':[('report_type','=','single')]}"/>
                                <field name="select_clause" colspan="6"
                                       attrs="{'invisible':[('report_type', '!=', 'single')]}"/>
                                <field name="column_headings" colspan="6"
                                       attrs="{'invisible':[('report_type','!=','single')]}"/>
                                <field name="file_name" string="Report filename" colspan="6"/>
                                <field name="report_template" string="Template Filename" widget="binary"
                                       filename="template_name" colspan="6"/>
                                <field name="store_history" readonly="0" />
                                <field name="template_name" invisible="1"/>
                         </group>

                            <group col="6" attrs="{'invisible':[('report_type','!=','collection')]}">
                                <group col="6" colspan="6"
                                       attrs="{'invisible':[('report_application','!=','powerpoint')]}">
                                    <field name="elements_per_slide" style="width: 20%%" colspan="6"
                                           attrs="{'invisible':['|',('report_type','=','single'),('report_application','!=','powerpoint')]}"/>
                                </group>
                            </group>
                            <group col="6" attrs="{'invisible':[('report_type','!=','single')]}">
                                <field name="sheet_name" style="width: 20%%" colspan="6"
                                       attrs="{'invisible':['|',('report_type','!=','single'),('report_application','!=','excel')]}"/>
                                <field name="slide_title" colspan="2"
                                       attrs="{'invisible':[('report_application','!=','powerpoint')]}"/>
                                <field name="element" colspan="2"
                                       attrs="{'invisible':['|',('report_type','!=','single'),('report_application','!=','powerpoint')]}"/>
                                <field name="chart_type" colspan="2"
                                       attrs="{'invisible':['|',('report_type','!=','single'),('element','!=','chart')]}"/>
                                <field name="legend" colspan="2"
                                       attrs="{'invisible':['|',('report_type','!=','single'),('element','!=','chart')]}"/>
                                <field name="show_values" colspan="2"
                                       attrs="{'invisible':['|',('report_type','!=','single'),('element','!=','chart')]}"/>
                            </group>
                            <group col="4" attrs="{'invisible':[('report', '=', False)]}">
                                <field name="report" colspan="2" widget="binary" readonly="1" filename="file_name"/>
                                <field name="date_executed" colspan="2" readonly="1"/>
                                <field name="perma_link" readonly="1" colspan="2" widget="url" text="Latest Report"/>
                                <field name="execute_link" readonly="1" colspan="2" widget="url"
                                       text="Execute and Download Report"/>
                            </group>
                        </page>
                        <page string="Scheduling">
                            <group>
                                <field name="schedule_onoff"/>
                                <field name="interval_number" style="width: 10%%; margin-right: 10px;"
                                           class="oe_inline" default="10"/>
                                <field name="interval_type" class="oe_inline" default="min"/>
                                <field name="execute_at" widget="float_time" style="width: 10%%"/>
                                <field name="firstcall" style="width: 40%%"/>
                                <field name="nextcall" readonly="1"/>
                            </group>
                            <group col="2">
                                <field name="send_by_email" attrs="{'invisible':[('schedule_onoff', '=', False) ]}"/>
                                <field name="email_subject"
                                       attrs="{'invisible':['|',('send_by_email', '=', False), ('schedule_onoff', '=', False) ]}"/>
                                <field name="email_to"
                                       attrs="{'invisible':['|',('send_by_email', '=', False), ('schedule_onoff', '=', False) ]}"/>
                                <field name="email_body"
                                       attrs="{'invisible':['|',('send_by_email', '=', False), ('schedule_onoff', '=', False) ]}"/>
                            </group>
                        </page>
                        <page string="Access rights">
                            <group col="2">
                                <field name="company_id"/>
                            </group>
                        </page>
                    </notebook>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_tree_report" model="ir.ui.view">
        <field name="name">rocker.report.list</field>
        <field name="model">rocker.report</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="report_application"/>
                <field name="description"/>
                <field name="database"/>
                <field name="author_id"/>
                <field name="date_published"/>
            </tree>
        </field>
    </record>


    <record id="view_search_report" model="ir.ui.view">
        <field name="name">rocker.report.filter</field>
        <field name="model">rocker.report</field>
        <field name="arch" type="xml">
            <search string="report_filter">
                <field name="name"/>
                 <field name="report_application"/>
                <field name="description"/>
                <field name="database"/>
               <filter name="filter_inactive"
                        string="Inactive"
                        domain="[('active','=',False)]"/>
                <filter name="filter_active"
                        string="Active"
                        domain="[('active','=',True)]"/>
                <separator/>
                <filter name="single_reports"
                        string="Single Reports"
                        domain="[('report_type','=','single')]"/>
                <filter name="collection_reports"
                        string="Collection Reports"
                        domain="[('report_type','=','collection')]"/>
                <group expand="0" string="Group By...">
                    <filter name="type_group" string="Group by Report type"
                            domain="[]" context="{'group_by':'report_type'}"/>
                </group>
            </search>
        </field>
    </record>


</odoo>
