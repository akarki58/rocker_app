<?xml version="1.0"?>
<odoo>

  <record id="view_form_report" model="ir.ui.view">
    <field name="name">rocker.report.form</field>
    <field name="model">rocker.report</field>
    <field name="arch" type="xml">
    <form string="Rocker Report">
        <header>
          <button type="object" string="Execute" name="export_xls" confirm="Execute report immediately?"/>
        </header>
        <sheet>
            <div class="oe_title">
            <label class="oe_edit_only" for="name" string="Report Name"/>
            <h1><field name="name" placeholder="New report"/></h1>
            </div>
            <group col="4">
                     <div class="oe_button_box" name="button_box"/>
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
                    <field name="active" invisible="1"/>
                 </group>
                <group col="6">
                    <label for="report_type" string="Report type"></label>
                    <h3><field name="report_type" colspan="2" /></h3>
                    <field name="author_id" colspan="2"/>
                    <field name="date_published" colspan="2" />
                    <field name="description" colspan="6" />
                </group>

                <notebook colspan="4">
                <page string="Report">
                <group col="4">
                    <field name="report_ids" attrs="{'invisible':[('report_type', '!=', 'collection')]}" colspan="4" options="{'no_show':True,'no_create':True,'no_open':True}">
                        <tree string="Reports" editable="bottom">
                            <field name="name" readonly="1"/>
                            <field name="description" readonly="1"/>
                            <field name="database" readonly="1"/>
                            <field name="sheet_name" readonly="1"/>
                            <field name="date_published" readonly="1"/>
                            <field name="author_id" readonly="1"/>
                        </tree>
                    </field>

                    <field name="database" colspan="2" attrs="{'invisible':[('report_type', '!=', 'single')],'required':[('report_type','=','single')]}"/>
                    <field name="column_headings" colspan="4" attrs="{'invisible':[('report_type', '!=', 'single')]}"/>
                    <field name="select_clause" colspan="4" attrs="{'invisible':[('report_type', '!=', 'single')]}"/>
                    <field name="file_name" colspan="2"/>
                    <field name="sheet_name" colspan="2" attrs="{'invisible':[('report_type', '!=', 'single')]}"/>
                    <field name="excel_template"  string="Template Filename" widget="binary" filename="template_name" colspan="4"/>
                    <field name="template_name" invisible="1" />
                     <field name="excel_report" widget="binary" readonly="1" filename="file_name" colspan="2" attrs="{'invisible':[('excel_report', '=', False)]}" />
                    <field name="date_executed" readonly="1" colspan="2" attrs="{'invisible':[('excel_report', '=', False)]}"/>
                    <field name="perma_link" readonly="1" colspan="2" widget ="url" text="Latest Excel" attrs="{'invisible':[('perma_link', '=', False) or ('excel_report', '=', False) ]}" />
                    <field name="store_history" readonly="0" colspan="2" />
                    <field name="execute_link" readonly="1" colspan="4" widget ="url" text="Execute and Download Excel" attrs="{'invisible':[('execute_link', '=', False) or ('excel_report', '=', False) ]}"/>
                </group>
            </page>
            <page string="Scheduling">
                    <group col="3">
                            <field name="schedule_onoff" /><p></p>
                            <label for="interval_number" string="Execute Every" />
                            <div>
                                <field name="interval_number" class="oe_inline" default="10"/>
                                <field name="interval_type" class="oe_inline" default="minutes"/><p></p>
                            </div>
                        <field name="execute_at" widget="float_time" /><p>Enter time in UTC timezone </p>
                                 <label for="firstcall" string="First Execution" />
                            <div>
                                <field name="firstcall"  />
                            </div>


                    </group>
            </page>
            <page string="Access rights">
                <group col="2">
                    <field name="company_id"/>
                </group>
            </page>

            </notebook>
        </sheet>
     </form>
    </field>
  </record>

    <record id="view_tree_report" model="ir.ui.view">
      <field name="name">rocker.report.list</field>
      <field name="model">rocker.report</field>
      <field name="arch" type="xml">
          <tree>
        <!--field name="report_type"/-->
          <field name="name"/>
          <field name="description"/>
          <field name="database"/>
          <field name="author_id"/>
          <field name="date_published"/>
        </tree>
      </field>
    </record>


    <record id="view_search_report" model="ir.ui.view">
      <field name="name">rocker.report.filter</field>
      <field name="model">rocker.report</field>
      <field name="arch" type="xml">
      <search string="report_filter">
             <filter name="filter_inactive"
                    string="Inactive"
                    domain="[('active','=',False)]"/>
             <filter name="filter_active"
                    string="Active"
                    domain="[('active','=',True)]"/>
          <separator/>
            <filter name="single_reports"
                    string="Single Reports"
                    domain="[('report_type','=','single')]"/>
            <filter name="collection_reports"
                    string="Collection Reports"
                    domain="[('report_type','=','collection')]"/>
          <group expand="0" string="Group By...">
                  <filter name="type_group" string="Group by Report type"
                      domain="[]" context="{'group_by':'report_type'}" />
          </group>
      </search>
      </field>
    </record>

    <!--record id="view_search_report" model="ir.ui.view">
      <field name="name">rocker.report.filter</field>
      <field name="model">rocker.report</field>
      <field name="arch" type="xml">
      <search string="report_filter">
             <filter name="filter_inactive"
                    string="Inactive"
                    domain="[('active','=',False)]"/>
             <filter name="filter_active"
                    string="Active"
                    domain="[('active','=',True)]"/>
          <separator/>
            <filter name="single_reports"
                    string="Single Reports"
                    domain="[('report_type','=','single')]"/>
            <filter name="collection_reports"
                    string="Collection Reports"
                    domain="[('report_type','=','collection')]"/>
          <group expand="0" string="Group By...">
                  <filter name="type_group" string="Group by Report type"
                      domain="[]" context="{'group_by':'report_type'}" />
          </group>
      </search>
      </field>
    </record-->

</odoo>
